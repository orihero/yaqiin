import{r as I,R as We,j as g,u as St,e as vt,I as ne}from"./index-BouADcV8.js";import{u as fe}from"./index-DS6Sn0NB.js";import{u as pe}from"./useMutation-Vq-BzWq0.js";import{g as Be,e as Ct}from"./userService-CG63Svn2.js";import{e as Ue,g as Ke,j as wt}from"./shopService-CWGVHyjB.js";import{C as xt}from"./ConfirmDialog-kzTFUtgg.js";import{c as Rt,u as _t,d as Ft,a as yt}from"./orderService-CxOxZ2jg.js";import{d as me,A as Z}from"./react-select-async.esm-DrB-_ZcM.js";import{g as oe}from"./productService-Dhse-mQl.js";import"./api-DwbFXHRK.js";import"./index-Bb9g-u9F.js";function $t({open:e=!0,order:n,loading:t=!1,error:o,onClose:l,onSubmit:i}){const r=!!n,[u,d]=I.useState(n?{value:n.customerId,label:`${n.customerId}`}:null),[a,p]=I.useState(n?{value:n.shopId,label:`${n.shopId}`}:null),[S,c]=I.useState(n?.items?n.items.map(f=>({...f,uiProduct:f.productId?{value:f.productId,label:f.name||f.productId}:null})):[]),[s,m]=I.useState(n?.pricing.total||0),[h,_]=I.useState(n?.status||"pending"),[F,V]=I.useState(n?.notes||""),[y,j]=I.useState(n?.deliveryAddress||{street:"",city:"",district:"",coordinates:{lat:0,lng:0},notes:""}),[b,E]=I.useState(n?.paymentMethod||"cash_on_delivery"),[T,H]=I.useState(n?.paymentStatus||"pending"),[K,q]=I.useState(null),[X,Q]=I.useState(n?.courierId||""),[L,C]=I.useState(n?.pricing.deliveryFee||0),[$,D]=I.useState(n?.pricing.serviceFee||0),[z,J]=I.useState(n?.pricing.tax||0),[W,be]=I.useState(n?.pricing.discount||0),[ue,je]=I.useState(n?.scheduledDelivery?.date?new Date(n.scheduledDelivery.date).toISOString().slice(0,10):""),[ae,Ne]=I.useState(n?.scheduledDelivery?.timeSlot||""),[Ee,Ae]=I.useState(n?.adminNotes||""),[de,Le]=I.useState(n?.estimatedDeliveryTime?new Date(n.estimatedDeliveryTime).toISOString().slice(0,16):""),[ge,Oe]=I.useState(n?.actualDeliveryTime?new Date(n.actualDeliveryTime).toISOString().slice(0,16):""),[ce,Ge]=I.useState(n?.courierId?{value:n.courierId,label:n.courierId}:null),[st,He]=I.useState([]),[ut,ze]=I.useState([]),[at,ke]=I.useState([]),dt=I.useMemo(()=>me((f,v)=>{if(!a?.value){v([]);return}Be(1,5,f).then(P=>{v((P.data||[]).filter(w=>w.role==="client"&&String(w.shopId)===String(a.value)).map(w=>({value:w._id,label:`${w.firstName} ${w.lastName} (${w.username})`})))})},300),[a]),gt=I.useMemo(()=>me((f,v)=>{if(!a?.value){v([]);return}Ue(a.value).then(P=>{const w=(P.data||[]).filter(M=>f?M.firstName&&M.firstName.toLowerCase().includes(f.toLowerCase())||M.lastName&&M.lastName.toLowerCase().includes(f.toLowerCase())||M.username&&M.username.toLowerCase().includes(f.toLowerCase()):!0).slice(0,5);v(w.map(M=>({value:M._id,label:Te(M)})))})},300),[a]);if(I.useMemo(()=>me((f,v)=>{if(!a?.value){v([]);return}oe(1,5,f).then(P=>{v((P.data||[]).filter(w=>String(w.shopId)===String(a.value)).map(w=>({value:w._id,label:w.name.uz,price:w.price,unit:w.unit})))})},300),[a]),I.useEffect(()=>{if(!a?.value){He([]),ze([]),ke([]);return}Be(1,5,"").then(f=>{He((f.data||[]).filter(v=>v.role==="client"&&String(v.shopId)===String(a.value)).map(v=>({value:v._id,label:`${v.firstName} ${v.lastName} (${v.username})`})))}),Ue(a.value).then(f=>{ze((f.data||[]).slice(0,5).map(v=>({value:v._id,label:Te(v)})))}),oe(1,5,"").then(f=>{ke((f.data||[]).filter(v=>String(v.shopId)===String(a.value)).map(v=>({value:v._id,label:v.name.uz,price:v.price,unit:v.unit})))})},[a]),We.useEffect(()=>{n&&(d(n.customerId?{value:n.customerId,label:`${n.customerId}`}:null),p(n.shopId?{value:n.shopId,label:`${n.shopId}`}:null),Ge(n.courierId?{value:n.courierId,label:n.courierId}:null),c(n.items||[]),m(n.pricing.total||0),_(n.status||"pending"),V(n.notes||""),j(n.deliveryAddress||{street:"",city:"",district:"",coordinates:{lat:0,lng:0},notes:""}),E(n.paymentMethod||"cash_on_delivery"),H(n.paymentStatus||"pending"),Q(n.courierId||""),C(n.pricing.deliveryFee||0),D(n.pricing.serviceFee||0),J(n.pricing.tax||0),be(n.pricing.discount||0),je(n.scheduledDelivery?.date?new Date(n.scheduledDelivery.date).toISOString().slice(0,10):""),Ne(n.scheduledDelivery?.timeSlot||""),Ae(n.adminNotes||""),Le(n.estimatedDeliveryTime?new Date(n.estimatedDeliveryTime).toISOString().slice(0,16):""),Oe(n.actualDeliveryTime?new Date(n.actualDeliveryTime).toISOString().slice(0,16):""))},[n]),!e)return null;const ct=()=>{c([...S,{uiProduct:null,productId:"",name:"",price:0,quantity:1,unit:"",subtotal:0}])},ft=(f,v,P)=>{const w=S.map((M,G)=>{if(G!==f)return M;let qe=M.price;return{...M,[v]:P,subtotal:P*qe,price:qe}});c(w),m(w.reduce((M,G)=>M+(G.subtotal||0),0))},pt=(f,v)=>{c(P=>P.map((w,M)=>M===f?{...w,uiProduct:v,productId:v.value,name:v.label,price:v.price??0,unit:v.unit??"",subtotal:(w.quantity||1)*(v.price??0)}:w)),m(S.reduce((P,w,M)=>P+(M===f?(w.quantity||1)*(v.price??0):w.subtotal||0),0))},mt=f=>{const v=S.filter((P,w)=>w!==f);c(v),m(v.reduce((P,w)=>P+(w.subtotal||0),0))},ht=f=>{if(f.preventDefault(),!u?.value||!a?.value||!S.length||!y.street||!y.city||!y.district){q("Please fill in all required fields.");return}q(null);const v={customerId:u?.value,shopId:a?.value,items:S.map(P=>({productId:P.uiProduct?.value,name:P.name,price:P.price,quantity:P.quantity,unit:P.unit,subtotal:P.subtotal})),pricing:{total:s,itemsTotal:s,deliveryFee:L,serviceFee:$,tax:z,discount:W},deliveryAddress:y,paymentMethod:b,paymentStatus:T,notes:F,adminNotes:Ee,scheduledDelivery:ue&&ae?{date:new Date(ue),timeSlot:ae}:void 0,estimatedDeliveryTime:de?new Date(de):void 0,actualDeliveryTime:ge?new Date(ge):void 0};ce?.value&&(v.courierId=ce.value),n?v.status=h:v.status="created",i&&i(v),l()};function Te(f){return`${f.firstName||""} ${f.lastName||""} ${f.username?`(${f.username})`:""}`.trim()}const Y={control:(f,v)=>({...f,backgroundColor:"#1a2236",color:"white",borderColor:v.isFocused?"#2563eb":"#232b42",boxShadow:v.isFocused?"0 0 0 1px #2563eb":"none",minHeight:"40px"}),menu:f=>({...f,backgroundColor:"#232b42",color:"white"}),option:(f,v)=>({...f,backgroundColor:v.isSelected?"#2563eb":v.isFocused?"#232b42":"#1a2236",color:"white",cursor:"pointer"}),singleValue:f=>({...f,color:"white"}),input:f=>({...f,color:"white"}),placeholder:f=>({...f,color:"#a3a3a3"}),dropdownIndicator:f=>({...f,color:"#a3a3a3"}),indicatorSeparator:f=>({...f,backgroundColor:"#232b42"})};return g.jsxs("div",{className:"fixed inset-0 z-50",children:[g.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm transition-all",style:{backdropFilter:"blur(8px)"},onClick:l}),g.jsxs("div",{className:"fixed top-0 right-0 h-full w-full max-w-xl bg-[#232b42] shadow-2xl p-8 overflow-y-auto transition-transform duration-300 transform translate-x-0",children:[g.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:r?"Edit Order":"Add Order"}),o&&g.jsx("div",{className:"text-red-400 mb-2",children:o}),K&&g.jsx("div",{className:"text-red-400 mb-2",children:K}),g.jsxs("form",{onSubmit:ht,children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block mb-1 text-white",children:"Shop *"}),g.jsx(Z,{classNamePrefix:"react-select",className:"w-full",styles:Y,isClearable:!0,isSearchable:!0,placeholder:"Select shop",cacheOptions:!0,defaultOptions:!0,loadOptions:(f,v)=>{if(!f){Ke(1,5,"").then(P=>{v((P.data||[]).map(w=>({value:w._id,label:w.name})))});return}Ke(1,20,f).then(P=>{v((P.data||[]).map(w=>({value:w._id,label:w.name})))})},value:a,onChange:f=>p(f),required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block mb-1 text-white",children:"Client"}),g.jsx(Z,{classNamePrefix:"react-select",className:"w-full",styles:Y,isClearable:!0,isSearchable:!0,placeholder:"Select client",cacheOptions:!0,defaultOptions:st,loadOptions:dt,value:u,onChange:f=>d(f),isDisabled:!a})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block mb-1 text-white",children:"Courier"}),g.jsx(Z,{classNamePrefix:"react-select",className:"w-full",styles:Y,isClearable:!0,isSearchable:!0,placeholder:"Select courier",cacheOptions:!0,defaultOptions:ut,loadOptions:gt,value:ce,onChange:f=>Ge(f),isDisabled:!a})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block mb-1 text-white",children:"Products"}),g.jsx(Z,{classNamePrefix:"react-select",className:"w-full",styles:Y,isClearable:!0,isSearchable:!0,placeholder:"Select product",cacheOptions:!0,defaultOptions:at,loadOptions:(f,v)=>{if(!a?.value){v([]);return}oe(1,5,f).then(P=>{v((P.data||[]).filter(w=>String(w.shopId)===String(a.value)).map(w=>({value:w._id,label:w.name.uz,price:w.price,unit:w.unit})))})},value:S.map(f=>f.uiProduct??(f.productId?{value:f.productId,label:f.name||f.productId}:null)),onChange:f=>{if(!f)return;const P=(Array.isArray(f)?f:[f]).map((w,M)=>({uiProduct:w,productId:w.value,name:w.label,price:w.price??0,unit:w.unit??"",quantity:1,subtotal:w.price??0}));c(P),m(P.reduce((w,M)=>w+(M.subtotal||0),0))},isDisabled:!a})]})]}),g.jsxs("div",{className:"mt-6",children:[g.jsx("label",{className:"block mb-2 text-white font-semibold",children:"Order Items *"}),S.map((f,v)=>g.jsxs("div",{className:"flex gap-2 mb-2 items-end",children:[g.jsx("div",{className:"min-w-[180px]",children:g.jsx(Z,{classNamePrefix:"react-select",className:"w-full",styles:Y,isClearable:!0,isSearchable:!0,placeholder:"Product",cacheOptions:!0,defaultOptions:!0,loadOptions:(P,w)=>{if(!a?.value){w([]);return}oe(1,5,P).then(M=>{w((M.data||[]).filter(G=>String(G.shopId)===String(a.value)).map(G=>({value:G._id,label:G.name.uz,price:G.price,unit:G.unit})))})},value:f.uiProduct??(f.productId?{value:f.productId,label:f.name||f.productId}:null),onChange:P=>pt(v,P),required:!0})}),g.jsx("input",{type:"number",className:"w-20 px-2 py-1 rounded bg-[#1a2236] text-white",value:f.quantity,min:1,onChange:P=>ft(v,"quantity",Number(P.target.value)),required:!0}),g.jsx("span",{className:"w-20",children:f.price}),g.jsx("span",{className:"w-20",children:f.subtotal}),g.jsx("button",{type:"button",className:"text-red-400 px-2",onClick:()=>mt(v),children:"✕"})]},v)),g.jsx("button",{type:"button",className:"mt-2 px-3 py-1 rounded bg-blue-500 hover:bg-blue-600 text-white",onClick:ct,children:"Add Item"})]}),g.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block mb-1 text-white",children:"Street *"}),g.jsx("input",{className:"w-full px-3 py-2 rounded bg-[#1a2236] text-white",value:y.street,onChange:f=>j({...y,street:f.target.value}),required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block mb-1 text-white",children:"City *"}),g.jsx("input",{className:"w-full px-3 py-2 rounded bg-[#1a2236] text-white",value:y.city,onChange:f=>j({...y,city:f.target.value}),required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block mb-1 text-white",children:"District *"}),g.jsx("input",{className:"w-full px-3 py-2 rounded bg-[#1a2236] text-white",value:y.district,onChange:f=>j({...y,district:f.target.value}),required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block mb-1 text-white",children:"Address Notes"}),g.jsx("input",{className:"w-full px-3 py-2 rounded bg-[#1a2236] text-white",value:y.notes,onChange:f=>j({...y,notes:f.target.value})})]})]}),g.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block mb-1 text-white",children:"Delivery Fee"}),g.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded bg-[#1a2236] text-white",value:L,min:0,onChange:f=>C(Number(f.target.value))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block mb-1 text-white",children:"Service Fee"}),g.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded bg-[#1a2236] text-white",value:$,min:0,onChange:f=>D(Number(f.target.value))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block mb-1 text-white",children:"Tax"}),g.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded bg-[#1a2236] text-white",value:z,min:0,onChange:f=>J(Number(f.target.value))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block mb-1 text-white",children:"Discount"}),g.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded bg-[#1a2236] text-white",value:W,min:0,onChange:f=>be(Number(f.target.value))})]})]}),g.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block mb-1 text-white",children:"Scheduled Delivery Date"}),g.jsx("input",{type:"date",className:"w-full px-3 py-2 rounded bg-[#1a2236] text-white",value:ue,onChange:f=>je(f.target.value)})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block mb-1 text-white",children:"Scheduled Time Slot"}),g.jsx("input",{className:"w-full px-3 py-2 rounded bg-[#1a2236] text-white",value:ae,onChange:f=>Ne(f.target.value)})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block mb-1 text-white",children:"Estimated Delivery Time"}),g.jsx("input",{type:"datetime-local",className:"w-full px-3 py-2 rounded bg-[#1a2236] text-white",value:de,onChange:f=>Le(f.target.value)})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block mb-1 text-white",children:"Actual Delivery Time"}),g.jsx("input",{type:"datetime-local",className:"w-full px-3 py-2 rounded bg-[#1a2236] text-white",value:ge,onChange:f=>Oe(f.target.value)})]})]}),g.jsxs("div",{className:"mt-6",children:[g.jsx("label",{className:"block mb-1 text-white",children:"Admin Notes"}),g.jsx("textarea",{className:"w-full px-3 py-2 rounded bg-[#1a2236] text-white",rows:2,value:Ee,onChange:f=>Ae(f.target.value)})]}),g.jsxs("div",{className:"mt-6",children:[g.jsx("label",{className:"block mb-1 text-white",children:"Payment Method *"}),g.jsxs("select",{className:"w-full px-3 py-2 rounded bg-[#1a2236] text-white",value:b,onChange:f=>E(f.target.value),required:!0,children:[g.jsx("option",{value:"cash_on_delivery",children:"Cash on Delivery"}),g.jsx("option",{value:"bank_transfer",children:"Bank Transfer"})]})]}),g.jsxs("div",{className:"mt-6",children:[g.jsx("label",{className:"block mb-1 text-white",children:"Payment Status *"}),g.jsxs("select",{className:"w-full px-3 py-2 rounded bg-[#1a2236] text-white",value:T,onChange:f=>H(f.target.value),required:!0,children:[g.jsx("option",{value:"pending",children:"Pending"}),g.jsx("option",{value:"paid",children:"Paid"}),g.jsx("option",{value:"failed",children:"Failed"})]})]}),g.jsxs("div",{className:"mt-6",children:[g.jsx("label",{className:"block mb-1 text-white",children:"Order Notes"}),g.jsx("textarea",{className:"w-full px-3 py-2 rounded bg-[#1a2236] text-white",rows:2,value:F,onChange:f=>V(f.target.value)})]}),g.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[g.jsx("button",{type:"button",className:"px-4 py-2 rounded bg-gray-600 hover:bg-gray-700",onClick:l,children:"Cancel"}),g.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-blue-500 hover:bg-blue-600",disabled:t,children:t?r?"Saving...":"Creating...":"Save"})]})]})]})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function B(e,n){return typeof e=="function"?e(n):e}function A(e,n){return t=>{n.setState(o=>({...o,[e]:B(t,o[e])}))}}function se(e){return e instanceof Function}function It(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function Pt(e,n){const t=[],o=l=>{l.forEach(i=>{t.push(i);const r=n(i);r!=null&&r.length&&o(r)})};return o(e),t}function x(e,n,t){let o=[],l;return i=>{let r;t.key&&t.debug&&(r=Date.now());const u=e(i);if(!(u.length!==o.length||u.some((p,S)=>o[S]!==p)))return l;o=u;let a;if(t.key&&t.debug&&(a=Date.now()),l=n(...u),t==null||t.onChange==null||t.onChange(l),t.key&&t.debug&&t!=null&&t.debug()){const p=Math.round((Date.now()-r)*100)/100,S=Math.round((Date.now()-a)*100)/100,c=S/16,s=(m,h)=>{for(m=String(m);m.length<h;)m=" "+m;return m};console.info(`%c⏱ ${s(S,5)} /${s(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*c,120))}deg 100% 31%);`,t?.key)}return l}}function R(e,n,t,o){return{debug:()=>{var l;return(l=e?.debugAll)!=null?l:e[n]},key:!1,onChange:o}}function Vt(e,n,t,o){const l=()=>{var r;return(r=i.getValue())!=null?r:e.options.renderFallbackValue},i={id:`${n.id}_${t.id}`,row:n,column:t,getValue:()=>n.getValue(o),renderValue:l,getContext:x(()=>[e,t,n,i],(r,u,d,a)=>({table:r,column:u,row:d,cell:a,getValue:a.getValue,renderValue:a.renderValue}),R(e.options,"debugCells"))};return e._features.forEach(r=>{r.createCell==null||r.createCell(i,t,n,e)},{}),i}function Mt(e,n,t,o){var l,i;const u={...e._getDefaultColumnDef(),...n},d=u.accessorKey;let a=(l=(i=u.id)!=null?i:d?typeof String.prototype.replaceAll=="function"?d.replaceAll(".","_"):d.replace(/\./g,"_"):void 0)!=null?l:typeof u.header=="string"?u.header:void 0,p;if(u.accessorFn?p=u.accessorFn:d&&(d.includes(".")?p=c=>{let s=c;for(const h of d.split(".")){var m;s=(m=s)==null?void 0:m[h]}return s}:p=c=>c[u.accessorKey]),!a)throw new Error;let S={id:`${String(a)}`,accessorFn:p,parent:o,depth:t,columnDef:u,columns:[],getFlatColumns:x(()=>[!0],()=>{var c;return[S,...(c=S.columns)==null?void 0:c.flatMap(s=>s.getFlatColumns())]},R(e.options,"debugColumns")),getLeafColumns:x(()=>[e._getOrderColumnsFn()],c=>{var s;if((s=S.columns)!=null&&s.length){let m=S.columns.flatMap(h=>h.getLeafColumns());return c(m)}return[S]},R(e.options,"debugColumns"))};for(const c of e._features)c.createColumn==null||c.createColumn(S,e);return S}const N="debugHeaders";function Xe(e,n,t){var o;let i={id:(o=t.id)!=null?o:n.id,column:n,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const r=[],u=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(u),r.push(d)};return u(i),r},getContext:()=>({table:e,header:i,column:n})};return e._features.forEach(r=>{r.createHeader==null||r.createHeader(i,e)}),i}const Dt={createTable:e=>{e.getHeaderGroups=x(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,o,l)=>{var i,r;const u=(i=o?.map(S=>t.find(c=>c.id===S)).filter(Boolean))!=null?i:[],d=(r=l?.map(S=>t.find(c=>c.id===S)).filter(Boolean))!=null?r:[],a=t.filter(S=>!(o!=null&&o.includes(S.id))&&!(l!=null&&l.includes(S.id)));return le(n,[...u,...a,...d],e)},R(e.options,N)),e.getCenterHeaderGroups=x(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,o,l)=>(t=t.filter(i=>!(o!=null&&o.includes(i.id))&&!(l!=null&&l.includes(i.id))),le(n,t,e,"center")),R(e.options,N)),e.getLeftHeaderGroups=x(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,t,o)=>{var l;const i=(l=o?.map(r=>t.find(u=>u.id===r)).filter(Boolean))!=null?l:[];return le(n,i,e,"left")},R(e.options,N)),e.getRightHeaderGroups=x(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,t,o)=>{var l;const i=(l=o?.map(r=>t.find(u=>u.id===r)).filter(Boolean))!=null?l:[];return le(n,i,e,"right")},R(e.options,N)),e.getFooterGroups=x(()=>[e.getHeaderGroups()],n=>[...n].reverse(),R(e.options,N)),e.getLeftFooterGroups=x(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),R(e.options,N)),e.getCenterFooterGroups=x(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),R(e.options,N)),e.getRightFooterGroups=x(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),R(e.options,N)),e.getFlatHeaders=x(()=>[e.getHeaderGroups()],n=>n.map(t=>t.headers).flat(),R(e.options,N)),e.getLeftFlatHeaders=x(()=>[e.getLeftHeaderGroups()],n=>n.map(t=>t.headers).flat(),R(e.options,N)),e.getCenterFlatHeaders=x(()=>[e.getCenterHeaderGroups()],n=>n.map(t=>t.headers).flat(),R(e.options,N)),e.getRightFlatHeaders=x(()=>[e.getRightHeaderGroups()],n=>n.map(t=>t.headers).flat(),R(e.options,N)),e.getCenterLeafHeaders=x(()=>[e.getCenterFlatHeaders()],n=>n.filter(t=>{var o;return!((o=t.subHeaders)!=null&&o.length)}),R(e.options,N)),e.getLeftLeafHeaders=x(()=>[e.getLeftFlatHeaders()],n=>n.filter(t=>{var o;return!((o=t.subHeaders)!=null&&o.length)}),R(e.options,N)),e.getRightLeafHeaders=x(()=>[e.getRightFlatHeaders()],n=>n.filter(t=>{var o;return!((o=t.subHeaders)!=null&&o.length)}),R(e.options,N)),e.getLeafHeaders=x(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,t,o)=>{var l,i,r,u,d,a;return[...(l=(i=n[0])==null?void 0:i.headers)!=null?l:[],...(r=(u=t[0])==null?void 0:u.headers)!=null?r:[],...(d=(a=o[0])==null?void 0:a.headers)!=null?d:[]].map(p=>p.getLeafHeaders()).flat()},R(e.options,N))}};function le(e,n,t,o){var l,i;let r=0;const u=function(c,s){s===void 0&&(s=1),r=Math.max(r,s),c.filter(m=>m.getIsVisible()).forEach(m=>{var h;(h=m.columns)!=null&&h.length&&u(m.columns,s+1)},0)};u(e);let d=[];const a=(c,s)=>{const m={depth:s,id:[o,`${s}`].filter(Boolean).join("_"),headers:[]},h=[];c.forEach(_=>{const F=[...h].reverse()[0],V=_.column.depth===m.depth;let y,j=!1;if(V&&_.column.parent?y=_.column.parent:(y=_.column,j=!0),F&&F?.column===y)F.subHeaders.push(_);else{const b=Xe(t,y,{id:[o,s,y.id,_?.id].filter(Boolean).join("_"),isPlaceholder:j,placeholderId:j?`${h.filter(E=>E.column===y).length}`:void 0,depth:s,index:h.length});b.subHeaders.push(_),h.push(b)}m.headers.push(_),_.headerGroup=m}),d.push(m),s>0&&a(h,s-1)},p=n.map((c,s)=>Xe(t,c,{depth:r,index:s}));a(p,r-1),d.reverse();const S=c=>c.filter(m=>m.column.getIsVisible()).map(m=>{let h=0,_=0,F=[0];m.subHeaders&&m.subHeaders.length?(F=[],S(m.subHeaders).forEach(y=>{let{colSpan:j,rowSpan:b}=y;h+=j,F.push(b)})):h=1;const V=Math.min(...F);return _=_+V,m.colSpan=h,m.rowSpan=_,{colSpan:h,rowSpan:_}});return S((l=(i=d[0])==null?void 0:i.headers)!=null?l:[]),d}const Pe=(e,n,t,o,l,i,r)=>{let u={id:n,index:o,original:t,depth:l,parentId:r,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(u._valuesCache.hasOwnProperty(d))return u._valuesCache[d];const a=e.getColumn(d);if(a!=null&&a.accessorFn)return u._valuesCache[d]=a.accessorFn(u.original,o),u._valuesCache[d]},getUniqueValues:d=>{if(u._uniqueValuesCache.hasOwnProperty(d))return u._uniqueValuesCache[d];const a=e.getColumn(d);if(a!=null&&a.accessorFn)return a.columnDef.getUniqueValues?(u._uniqueValuesCache[d]=a.columnDef.getUniqueValues(u.original,o),u._uniqueValuesCache[d]):(u._uniqueValuesCache[d]=[u.getValue(d)],u._uniqueValuesCache[d])},renderValue:d=>{var a;return(a=u.getValue(d))!=null?a:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Pt(u.subRows,d=>d.subRows),getParentRow:()=>u.parentId?e.getRow(u.parentId,!0):void 0,getParentRows:()=>{let d=[],a=u;for(;;){const p=a.getParentRow();if(!p)break;d.push(p),a=p}return d.reverse()},getAllCells:x(()=>[e.getAllLeafColumns()],d=>d.map(a=>Vt(e,u,a,a.id)),R(e.options,"debugRows")),_getAllCellsByColumnId:x(()=>[u.getAllCells()],d=>d.reduce((a,p)=>(a[p.column.id]=p,a),{}),R(e.options,"debugRows"))};for(let d=0;d<e._features.length;d++){const a=e._features[d];a==null||a.createRow==null||a.createRow(u,e)}return u},bt={createColumn:(e,n)=>{e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Ye=(e,n,t)=>{var o,l;const i=t==null||(o=t.toString())==null?void 0:o.toLowerCase();return!!(!((l=e.getValue(n))==null||(l=l.toString())==null||(l=l.toLowerCase())==null)&&l.includes(i))};Ye.autoRemove=e=>O(e);const Ze=(e,n,t)=>{var o;return!!(!((o=e.getValue(n))==null||(o=o.toString())==null)&&o.includes(t))};Ze.autoRemove=e=>O(e);const et=(e,n,t)=>{var o;return((o=e.getValue(n))==null||(o=o.toString())==null?void 0:o.toLowerCase())===t?.toLowerCase()};et.autoRemove=e=>O(e);const tt=(e,n,t)=>{var o;return(o=e.getValue(n))==null?void 0:o.includes(t)};tt.autoRemove=e=>O(e);const nt=(e,n,t)=>!t.some(o=>{var l;return!((l=e.getValue(n))!=null&&l.includes(o))});nt.autoRemove=e=>O(e)||!(e!=null&&e.length);const ot=(e,n,t)=>t.some(o=>{var l;return(l=e.getValue(n))==null?void 0:l.includes(o)});ot.autoRemove=e=>O(e)||!(e!=null&&e.length);const lt=(e,n,t)=>e.getValue(n)===t;lt.autoRemove=e=>O(e);const it=(e,n,t)=>e.getValue(n)==t;it.autoRemove=e=>O(e);const Ve=(e,n,t)=>{let[o,l]=t;const i=e.getValue(n);return i>=o&&i<=l};Ve.resolveFilterValue=e=>{let[n,t]=e,o=typeof n!="number"?parseFloat(n):n,l=typeof t!="number"?parseFloat(t):t,i=n===null||Number.isNaN(o)?-1/0:o,r=t===null||Number.isNaN(l)?1/0:l;if(i>r){const u=i;i=r,r=u}return[i,r]};Ve.autoRemove=e=>O(e)||O(e[0])&&O(e[1]);const k={includesString:Ye,includesStringSensitive:Ze,equalsString:et,arrIncludes:tt,arrIncludesAll:nt,arrIncludesSome:ot,equals:lt,weakEquals:it,inNumberRange:Ve};function O(e){return e==null||e===""}const jt={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:A("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const t=n.getCoreRowModel().flatRows[0],o=t?.getValue(e.id);return typeof o=="string"?k.includesString:typeof o=="number"?k.inNumberRange:typeof o=="boolean"||o!==null&&typeof o=="object"?k.equals:Array.isArray(o)?k.arrIncludes:k.weakEquals},e.getFilterFn=()=>{var t,o;return se(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(o=n.options.filterFns)==null?void 0:o[e.columnDef.filterFn])!=null?t:k[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,o,l;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((o=n.options.enableColumnFilters)!=null?o:!0)&&((l=n.options.enableFilters)!=null?l:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=n.getState().columnFilters)==null||(t=t.find(o=>o.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,o;return(t=(o=n.getState().columnFilters)==null?void 0:o.findIndex(l=>l.id===e.id))!=null?t:-1},e.setFilterValue=t=>{n.setColumnFilters(o=>{const l=e.getFilterFn(),i=o?.find(p=>p.id===e.id),r=B(t,i?i.value:void 0);if(Qe(l,r,e)){var u;return(u=o?.filter(p=>p.id!==e.id))!=null?u:[]}const d={id:e.id,value:r};if(i){var a;return(a=o?.map(p=>p.id===e.id?d:p))!=null?a:[]}return o!=null&&o.length?[...o,d]:[d]})}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=n=>{const t=e.getAllLeafColumns(),o=l=>{var i;return(i=B(n,l))==null?void 0:i.filter(r=>{const u=t.find(d=>d.id===r.id);if(u){const d=u.getFilterFn();if(Qe(d,r.value,u))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(o)},e.resetColumnFilters=n=>{var t,o;e.setColumnFilters(n?[]:(t=(o=e.initialState)==null?void 0:o.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Qe(e,n,t){return(e&&e.autoRemove?e.autoRemove(n,t):!1)||typeof n>"u"||typeof n=="string"&&!n}const Nt=(e,n,t)=>t.reduce((o,l)=>{const i=l.getValue(e);return o+(typeof i=="number"?i:0)},0),Et=(e,n,t)=>{let o;return t.forEach(l=>{const i=l.getValue(e);i!=null&&(o>i||o===void 0&&i>=i)&&(o=i)}),o},At=(e,n,t)=>{let o;return t.forEach(l=>{const i=l.getValue(e);i!=null&&(o<i||o===void 0&&i>=i)&&(o=i)}),o},Lt=(e,n,t)=>{let o,l;return t.forEach(i=>{const r=i.getValue(e);r!=null&&(o===void 0?r>=r&&(o=l=r):(o>r&&(o=r),l<r&&(l=r)))}),[o,l]},Ot=(e,n)=>{let t=0,o=0;if(n.forEach(l=>{let i=l.getValue(e);i!=null&&(i=+i)>=i&&(++t,o+=i)}),t)return o/t},Gt=(e,n)=>{if(!n.length)return;const t=n.map(i=>i.getValue(e));if(!It(t))return;if(t.length===1)return t[0];const o=Math.floor(t.length/2),l=t.sort((i,r)=>i-r);return t.length%2!==0?l[o]:(l[o-1]+l[o])/2},Ht=(e,n)=>Array.from(new Set(n.map(t=>t.getValue(e))).values()),zt=(e,n)=>new Set(n.map(t=>t.getValue(e))).size,kt=(e,n)=>n.length,he={sum:Nt,min:Et,max:At,extent:Lt,mean:Ot,median:Gt,unique:Ht,uniqueCount:zt,count:kt},Tt={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,t;return(n=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:A("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(o=>o!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,o;return((t=e.columnDef.enableGrouping)!=null?t:!0)&&((o=n.options.enableGrouping)!=null?o:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=n.getCoreRowModel().flatRows[0],o=t?.getValue(e.id);if(typeof o=="number")return he.sum;if(Object.prototype.toString.call(o)==="[object Date]")return he.extent},e.getAggregationFn=()=>{var t,o;if(!e)throw new Error;return se(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(o=n.options.aggregationFns)==null?void 0:o[e.columnDef.aggregationFn])!=null?t:he[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var t,o;e.setGrouping(n?[]:(t=(o=e.initialState)==null?void 0:o.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const o=n.getColumn(t);return o!=null&&o.columnDef.getGroupingValue?(e._groupingValuesCache[t]=o.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,n,t,o)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var l;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((l=t.subRows)!=null&&l.length)}}};function qt(e,n,t){if(!(n!=null&&n.length)||!t)return e;const o=e.filter(i=>!n.includes(i.id));return t==="remove"?o:[...n.map(i=>e.find(r=>r.id===i)).filter(Boolean),...o]}const Bt={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:A("columnOrder",e)}),createColumn:(e,n)=>{e.getIndex=x(t=>[te(n,t)],t=>t.findIndex(o=>o.id===e.id),R(n.options,"debugColumns")),e.getIsFirstColumn=t=>{var o;return((o=te(n,t)[0])==null?void 0:o.id)===e.id},e.getIsLastColumn=t=>{var o;const l=te(n,t);return((o=l[l.length-1])==null?void 0:o.id)===e.id}},createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var t;e.setColumnOrder(n?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=x(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,t,o)=>l=>{let i=[];if(!(n!=null&&n.length))i=l;else{const r=[...n],u=[...l];for(;u.length&&r.length;){const d=r.shift(),a=u.findIndex(p=>p.id===d);a>-1&&i.push(u.splice(a,1)[0])}i=[...i,...u]}return qt(i,t,o)},R(e.options,"debugTable"))}},Se=()=>({left:[],right:[]}),Ut={getInitialState:e=>({columnPinning:Se(),...e}),getDefaultOptions:e=>({onColumnPinningChange:A("columnPinning",e)}),createColumn:(e,n)=>{e.pin=t=>{const o=e.getLeafColumns().map(l=>l.id).filter(Boolean);n.setColumnPinning(l=>{var i,r;if(t==="right"){var u,d;return{left:((u=l?.left)!=null?u:[]).filter(S=>!(o!=null&&o.includes(S))),right:[...((d=l?.right)!=null?d:[]).filter(S=>!(o!=null&&o.includes(S))),...o]}}if(t==="left"){var a,p;return{left:[...((a=l?.left)!=null?a:[]).filter(S=>!(o!=null&&o.includes(S))),...o],right:((p=l?.right)!=null?p:[]).filter(S=>!(o!=null&&o.includes(S)))}}return{left:((i=l?.left)!=null?i:[]).filter(S=>!(o!=null&&o.includes(S))),right:((r=l?.right)!=null?r:[]).filter(S=>!(o!=null&&o.includes(S)))}})},e.getCanPin=()=>e.getLeafColumns().some(o=>{var l,i,r;return((l=o.columnDef.enablePinning)!=null?l:!0)&&((i=(r=n.options.enableColumnPinning)!=null?r:n.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(u=>u.id),{left:o,right:l}=n.getState().columnPinning,i=t.some(u=>o?.includes(u)),r=t.some(u=>l?.includes(u));return i?"left":r?"right":!1},e.getPinnedIndex=()=>{var t,o;const l=e.getIsPinned();return l?(t=(o=n.getState().columnPinning)==null||(o=o[l])==null?void 0:o.indexOf(e.id))!=null?t:-1:0}},createRow:(e,n)=>{e.getCenterVisibleCells=x(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(t,o,l)=>{const i=[...o??[],...l??[]];return t.filter(r=>!i.includes(r.column.id))},R(n.options,"debugRows")),e.getLeftVisibleCells=x(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left],(t,o)=>(o??[]).map(i=>t.find(r=>r.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),R(n.options,"debugRows")),e.getRightVisibleCells=x(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(t,o)=>(o??[]).map(i=>t.find(r=>r.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),R(n.options,"debugRows"))},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var t,o;return e.setColumnPinning(n?Se():(t=(o=e.initialState)==null?void 0:o.columnPinning)!=null?t:Se())},e.getIsSomeColumnsPinned=n=>{var t;const o=e.getState().columnPinning;if(!n){var l,i;return!!((l=o.left)!=null&&l.length||(i=o.right)!=null&&i.length)}return!!((t=o[n])!=null&&t.length)},e.getLeftLeafColumns=x(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,t)=>(t??[]).map(o=>n.find(l=>l.id===o)).filter(Boolean),R(e.options,"debugColumns")),e.getRightLeafColumns=x(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,t)=>(t??[]).map(o=>n.find(l=>l.id===o)).filter(Boolean),R(e.options,"debugColumns")),e.getCenterLeafColumns=x(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,o)=>{const l=[...t??[],...o??[]];return n.filter(i=>!l.includes(i.id))},R(e.options,"debugColumns"))}};function Kt(e){return e||(typeof document<"u"?document:null)}const ie={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},ve=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Xt={getDefaultColumnDef:()=>ie,getInitialState:e=>({columnSizing:{},columnSizingInfo:ve(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:A("columnSizing",e),onColumnSizingInfoChange:A("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var t,o,l;const i=n.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:ie.minSize,(o=i??e.columnDef.size)!=null?o:ie.size),(l=e.columnDef.maxSize)!=null?l:ie.maxSize)},e.getStart=x(t=>[t,te(n,t),n.getState().columnSizing],(t,o)=>o.slice(0,e.getIndex(t)).reduce((l,i)=>l+i.getSize(),0),R(n.options,"debugColumns")),e.getAfter=x(t=>[t,te(n,t),n.getState().columnSizing],(t,o)=>o.slice(e.getIndex(t)+1).reduce((l,i)=>l+i.getSize(),0),R(n.options,"debugColumns")),e.resetSize=()=>{n.setColumnSizing(t=>{let{[e.id]:o,...l}=t;return l})},e.getCanResize=()=>{var t,o;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((o=n.options.enableColumnResizing)!=null?o:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let t=0;const o=l=>{if(l.subHeaders.length)l.subHeaders.forEach(o);else{var i;t+=(i=l.column.getSize())!=null?i:0}};return o(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=t=>{const o=n.getColumn(e.column.id),l=o?.getCanResize();return i=>{if(!o||!l||(i.persist==null||i.persist(),Ce(i)&&i.touches&&i.touches.length>1))return;const r=e.getSize(),u=e?e.getLeafHeaders().map(F=>[F.column.id,F.column.getSize()]):[[o.id,o.getSize()]],d=Ce(i)?Math.round(i.touches[0].clientX):i.clientX,a={},p=(F,V)=>{typeof V=="number"&&(n.setColumnSizingInfo(y=>{var j,b;const E=n.options.columnResizeDirection==="rtl"?-1:1,T=(V-((j=y?.startOffset)!=null?j:0))*E,H=Math.max(T/((b=y?.startSize)!=null?b:0),-.999999);return y.columnSizingStart.forEach(K=>{let[q,X]=K;a[q]=Math.round(Math.max(X+X*H,0)*100)/100}),{...y,deltaOffset:T,deltaPercentage:H}}),(n.options.columnResizeMode==="onChange"||F==="end")&&n.setColumnSizing(y=>({...y,...a})))},S=F=>p("move",F),c=F=>{p("end",F),n.setColumnSizingInfo(V=>({...V,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},s=Kt(t),m={moveHandler:F=>S(F.clientX),upHandler:F=>{s?.removeEventListener("mousemove",m.moveHandler),s?.removeEventListener("mouseup",m.upHandler),c(F.clientX)}},h={moveHandler:F=>(F.cancelable&&(F.preventDefault(),F.stopPropagation()),S(F.touches[0].clientX),!1),upHandler:F=>{var V;s?.removeEventListener("touchmove",h.moveHandler),s?.removeEventListener("touchend",h.upHandler),F.cancelable&&(F.preventDefault(),F.stopPropagation()),c((V=F.touches[0])==null?void 0:V.clientX)}},_=Qt()?{passive:!1}:!1;Ce(i)?(s?.addEventListener("touchmove",h.moveHandler,_),s?.addEventListener("touchend",h.upHandler,_)):(s?.addEventListener("mousemove",m.moveHandler,_),s?.addEventListener("mouseup",m.upHandler,_)),n.setColumnSizingInfo(F=>({...F,startOffset:d,startSize:r,deltaOffset:0,deltaPercentage:0,columnSizingStart:u,isResizingColumn:o.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var t;e.setColumnSizing(n?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=n=>{var t;e.setColumnSizingInfo(n?ve():(t=e.initialState.columnSizingInfo)!=null?t:ve())},e.getTotalSize=()=>{var n,t;return(n=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((o,l)=>o+l.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,t;return(n=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((o,l)=>o+l.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,t;return(n=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((o,l)=>o+l.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,t;return(n=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((o,l)=>o+l.getSize(),0))!=null?n:0}}};let re=null;function Qt(){if(typeof re=="boolean")return re;let e=!1;try{const n={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,n),window.removeEventListener("test",t)}catch{e=!1}return re=e,re}function Ce(e){return e.type==="touchstart"}const Jt={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:A("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=t=>{e.getCanHide()&&n.setColumnVisibility(o=>({...o,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,o;const l=e.columns;return(t=l.length?l.some(i=>i.getIsVisible()):(o=n.getState().columnVisibility)==null?void 0:o[e.id])!=null?t:!0},e.getCanHide=()=>{var t,o;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((o=n.options.enableHiding)!=null?o:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=x(()=>[e.getAllCells(),n.getState().columnVisibility],t=>t.filter(o=>o.column.getIsVisible()),R(n.options,"debugRows")),e.getVisibleCells=x(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,o,l)=>[...t,...o,...l],R(n.options,"debugRows"))},createTable:e=>{const n=(t,o)=>x(()=>[o(),o().filter(l=>l.getIsVisible()).map(l=>l.id).join("_")],l=>l.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),R(e.options,"debugColumns"));e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var o;e.setColumnVisibility(t?{}:(o=e.initialState.columnVisibility)!=null?o:{})},e.toggleAllColumnsVisible=t=>{var o;t=(o=t)!=null?o:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((l,i)=>({...l,[i.id]:t||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var o;e.toggleAllColumnsVisible((o=t.target)==null?void 0:o.checked)}}};function te(e,n){return n?n==="center"?e.getCenterVisibleLeafColumns():n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Wt={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Yt={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:A("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var t;const o=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[n.id])==null?void 0:t.getValue();return typeof o=="string"||typeof o=="number"}}),createColumn:(e,n)=>{e.getCanGlobalFilter=()=>{var t,o,l,i;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((o=n.options.enableGlobalFilter)!=null?o:!0)&&((l=n.options.enableFilters)!=null?l:!0)&&((i=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>k.includesString,e.getGlobalFilterFn=()=>{var n,t;const{globalFilterFn:o}=e.options;return se(o)?o:o==="auto"?e.getGlobalAutoFilterFn():(n=(t=e.options.filterFns)==null?void 0:t[o])!=null?n:k[o]},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)}}},Zt={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:A("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,t=!1;e._autoResetExpanded=()=>{var o,l;if(!n){e._queue(()=>{n=!0});return}if((o=(l=e.options.autoResetAll)!=null?l:e.options.autoResetExpanded)!=null?o:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=o=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(o),e.toggleAllRowsExpanded=o=>{o??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=o=>{var l,i;e.setExpanded(o?{}:(l=(i=e.initialState)==null?void 0:i.expanded)!=null?l:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(o=>o.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>o=>{o.persist==null||o.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const o=e.getState().expanded;return o===!0||Object.values(o).some(Boolean)},e.getIsAllRowsExpanded=()=>{const o=e.getState().expanded;return typeof o=="boolean"?o===!0:!(!Object.keys(o).length||e.getRowModel().flatRows.some(l=>!l.getIsExpanded()))},e.getExpandedDepth=()=>{let o=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const r=i.split(".");o=Math.max(o,r.length)}),o},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=t=>{n.setExpanded(o=>{var l;const i=o===!0?!0:!!(o!=null&&o[e.id]);let r={};if(o===!0?Object.keys(n.getRowModel().rowsById).forEach(u=>{r[u]=!0}):r=o,t=(l=t)!=null?l:!i,!i&&t)return{...r,[e.id]:!0};if(i&&!t){const{[e.id]:u,...d}=r;return d}return o})},e.getIsExpanded=()=>{var t;const o=n.getState().expanded;return!!((t=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?t:o===!0||o?.[e.id])},e.getCanExpand=()=>{var t,o,l;return(t=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?t:((o=n.options.enableExpanding)!=null?o:!0)&&!!((l=e.subRows)!=null&&l.length)},e.getIsAllParentsExpanded=()=>{let t=!0,o=e;for(;t&&o.parentId;)o=n.getRow(o.parentId,!0),t=o.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},_e=0,Fe=10,we=()=>({pageIndex:_e,pageSize:Fe}),en={getInitialState:e=>({...e,pagination:{...we(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:A("pagination",e)}),createTable:e=>{let n=!1,t=!1;e._autoResetPageIndex=()=>{var o,l;if(!n){e._queue(()=>{n=!0});return}if((o=(l=e.options.autoResetAll)!=null?l:e.options.autoResetPageIndex)!=null?o:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=o=>{const l=i=>B(o,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(l)},e.resetPagination=o=>{var l;e.setPagination(o?we():(l=e.initialState.pagination)!=null?l:we())},e.setPageIndex=o=>{e.setPagination(l=>{let i=B(o,l.pageIndex);const r=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,r)),{...l,pageIndex:i}})},e.resetPageIndex=o=>{var l,i;e.setPageIndex(o?_e:(l=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?l:_e)},e.resetPageSize=o=>{var l,i;e.setPageSize(o?Fe:(l=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?l:Fe)},e.setPageSize=o=>{e.setPagination(l=>{const i=Math.max(1,B(o,l.pageSize)),r=l.pageSize*l.pageIndex,u=Math.floor(r/i);return{...l,pageIndex:u,pageSize:i}})},e.setPageCount=o=>e.setPagination(l=>{var i;let r=B(o,(i=e.options.pageCount)!=null?i:-1);return typeof r=="number"&&(r=Math.max(-1,r)),{...l,pageCount:r}}),e.getPageOptions=x(()=>[e.getPageCount()],o=>{let l=[];return o&&o>0&&(l=[...new Array(o)].fill(null).map((i,r)=>r)),l},R(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:o}=e.getState().pagination,l=e.getPageCount();return l===-1?!0:l===0?!1:o<l-1},e.previousPage=()=>e.setPageIndex(o=>o-1),e.nextPage=()=>e.setPageIndex(o=>o+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var o;return(o=e.options.pageCount)!=null?o:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var o;return(o=e.options.rowCount)!=null?o:e.getPrePaginationRowModel().rows.length}}},xe=()=>({top:[],bottom:[]}),tn={getInitialState:e=>({rowPinning:xe(),...e}),getDefaultOptions:e=>({onRowPinningChange:A("rowPinning",e)}),createRow:(e,n)=>{e.pin=(t,o,l)=>{const i=o?e.getLeafRows().map(d=>{let{id:a}=d;return a}):[],r=l?e.getParentRows().map(d=>{let{id:a}=d;return a}):[],u=new Set([...r,e.id,...i]);n.setRowPinning(d=>{var a,p;if(t==="bottom"){var S,c;return{top:((S=d?.top)!=null?S:[]).filter(h=>!(u!=null&&u.has(h))),bottom:[...((c=d?.bottom)!=null?c:[]).filter(h=>!(u!=null&&u.has(h))),...Array.from(u)]}}if(t==="top"){var s,m;return{top:[...((s=d?.top)!=null?s:[]).filter(h=>!(u!=null&&u.has(h))),...Array.from(u)],bottom:((m=d?.bottom)!=null?m:[]).filter(h=>!(u!=null&&u.has(h)))}}return{top:((a=d?.top)!=null?a:[]).filter(h=>!(u!=null&&u.has(h))),bottom:((p=d?.bottom)!=null?p:[]).filter(h=>!(u!=null&&u.has(h)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:o,enablePinning:l}=n.options;return typeof o=="function"?o(e):(t=o??l)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:o,bottom:l}=n.getState().rowPinning,i=t.some(u=>o?.includes(u)),r=t.some(u=>l?.includes(u));return i?"top":r?"bottom":!1},e.getPinnedIndex=()=>{var t,o;const l=e.getIsPinned();if(!l)return-1;const i=(t=l==="top"?n.getTopRows():n.getBottomRows())==null?void 0:t.map(r=>{let{id:u}=r;return u});return(o=i?.indexOf(e.id))!=null?o:-1}},createTable:e=>{e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var t,o;return e.setRowPinning(n?xe():(t=(o=e.initialState)==null?void 0:o.rowPinning)!=null?t:xe())},e.getIsSomeRowsPinned=n=>{var t;const o=e.getState().rowPinning;if(!n){var l,i;return!!((l=o.top)!=null&&l.length||(i=o.bottom)!=null&&i.length)}return!!((t=o[n])!=null&&t.length)},e._getPinnedRows=(n,t,o)=>{var l;return((l=e.options.keepPinnedRows)==null||l?(t??[]).map(r=>{const u=e.getRow(r,!0);return u.getIsAllParentsExpanded()?u:null}):(t??[]).map(r=>n.find(u=>u.id===r))).filter(Boolean).map(r=>({...r,position:o}))},e.getTopRows=x(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(n,t)=>e._getPinnedRows(n,t,"top"),R(e.options,"debugRows")),e.getBottomRows=x(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(n,t)=>e._getPinnedRows(n,t,"bottom"),R(e.options,"debugRows")),e.getCenterRows=x(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,t,o)=>{const l=new Set([...t??[],...o??[]]);return n.filter(i=>!l.has(i.id))},R(e.options,"debugRows"))}},nn={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:A("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var t;return e.setRowSelection(n?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(t=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const o={...t},l=e.getPreGroupedRowModel().flatRows;return n?l.forEach(i=>{i.getCanSelect()&&(o[i.id]=!0)}):l.forEach(i=>{delete o[i.id]}),o})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(t=>{const o=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),l={...t};return e.getRowModel().rows.forEach(i=>{ye(l,i.id,o,!0,e)}),l}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=x(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,t)=>Object.keys(n).length?Re(e,t):{rows:[],flatRows:[],rowsById:{}},R(e.options,"debugTable")),e.getFilteredSelectedRowModel=x(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,t)=>Object.keys(n).length?Re(e,t):{rows:[],flatRows:[],rowsById:{}},R(e.options,"debugTable")),e.getGroupedSelectedRowModel=x(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,t)=>Object.keys(n).length?Re(e,t):{rows:[],flatRows:[],rowsById:{}},R(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let o=!!(n.length&&Object.keys(t).length);return o&&n.some(l=>l.getCanSelect()&&!t[l.id])&&(o=!1),o},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(l=>l.getCanSelect()),{rowSelection:t}=e.getState();let o=!!n.length;return o&&n.some(l=>!t[l.id])&&(o=!1),o},e.getIsSomeRowsSelected=()=>{var n;const t=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(t,o)=>{const l=e.getIsSelected();n.setRowSelection(i=>{var r;if(t=typeof t<"u"?t:!l,e.getCanSelect()&&l===t)return i;const u={...i};return ye(u,e.id,t,(r=o?.selectChildren)!=null?r:!0,n),u})},e.getIsSelected=()=>{const{rowSelection:t}=n.getState();return Me(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=n.getState();return $e(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=n.getState();return $e(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(t=n.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(t=n.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(t=n.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return o=>{var l;t&&e.toggleSelected((l=o.target)==null?void 0:l.checked)}}}},ye=(e,n,t,o,l)=>{var i;const r=l.getRow(n,!0);t?(r.getCanMultiSelect()||Object.keys(e).forEach(u=>delete e[u]),r.getCanSelect()&&(e[n]=!0)):delete e[n],o&&(i=r.subRows)!=null&&i.length&&r.getCanSelectSubRows()&&r.subRows.forEach(u=>ye(e,u.id,t,o,l))};function Re(e,n){const t=e.getState().rowSelection,o=[],l={},i=function(r,u){return r.map(d=>{var a;const p=Me(d,t);if(p&&(o.push(d),l[d.id]=d),(a=d.subRows)!=null&&a.length&&(d={...d,subRows:i(d.subRows)}),p)return d}).filter(Boolean)};return{rows:i(n.rows),flatRows:o,rowsById:l}}function Me(e,n){var t;return(t=n[e.id])!=null?t:!1}function $e(e,n,t){var o;if(!((o=e.subRows)!=null&&o.length))return!1;let l=!0,i=!1;return e.subRows.forEach(r=>{if(!(i&&!l)&&(r.getCanSelect()&&(Me(r,n)?i=!0:l=!1),r.subRows&&r.subRows.length)){const u=$e(r,n);u==="all"?i=!0:(u==="some"&&(i=!0),l=!1)}}),l?"all":i?"some":!1}const Ie=/([0-9]+)/gm,on=(e,n,t)=>rt(U(e.getValue(t)).toLowerCase(),U(n.getValue(t)).toLowerCase()),ln=(e,n,t)=>rt(U(e.getValue(t)),U(n.getValue(t))),rn=(e,n,t)=>De(U(e.getValue(t)).toLowerCase(),U(n.getValue(t)).toLowerCase()),sn=(e,n,t)=>De(U(e.getValue(t)),U(n.getValue(t))),un=(e,n,t)=>{const o=e.getValue(t),l=n.getValue(t);return o>l?1:o<l?-1:0},an=(e,n,t)=>De(e.getValue(t),n.getValue(t));function De(e,n){return e===n?0:e>n?1:-1}function U(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function rt(e,n){const t=e.split(Ie).filter(Boolean),o=n.split(Ie).filter(Boolean);for(;t.length&&o.length;){const l=t.shift(),i=o.shift(),r=parseInt(l,10),u=parseInt(i,10),d=[r,u].sort();if(isNaN(d[0])){if(l>i)return 1;if(i>l)return-1;continue}if(isNaN(d[1]))return isNaN(r)?-1:1;if(r>u)return 1;if(u>r)return-1}return t.length-o.length}const ee={alphanumeric:on,alphanumericCaseSensitive:ln,text:rn,textCaseSensitive:sn,datetime:un,basic:an},dn={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:A("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const t=n.getFilteredRowModel().flatRows.slice(10);let o=!1;for(const l of t){const i=l?.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return ee.datetime;if(typeof i=="string"&&(o=!0,i.split(Ie).length>1))return ee.alphanumeric}return o?ee.text:ee.basic},e.getAutoSortDir=()=>{const t=n.getFilteredRowModel().flatRows[0];return typeof t?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,o;if(!e)throw new Error;return se(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(o=n.options.sortingFns)==null?void 0:o[e.columnDef.sortingFn])!=null?t:ee[e.columnDef.sortingFn]},e.toggleSorting=(t,o)=>{const l=e.getNextSortingOrder(),i=typeof t<"u"&&t!==null;n.setSorting(r=>{const u=r?.find(s=>s.id===e.id),d=r?.findIndex(s=>s.id===e.id);let a=[],p,S=i?t:l==="desc";if(r!=null&&r.length&&e.getCanMultiSort()&&o?u?p="toggle":p="add":r!=null&&r.length&&d!==r.length-1?p="replace":u?p="toggle":p="replace",p==="toggle"&&(i||l||(p="remove")),p==="add"){var c;a=[...r,{id:e.id,desc:S}],a.splice(0,a.length-((c=n.options.maxMultiSortColCount)!=null?c:Number.MAX_SAFE_INTEGER))}else p==="toggle"?a=r.map(s=>s.id===e.id?{...s,desc:S}:s):p==="remove"?a=r.filter(s=>s.id!==e.id):a=[{id:e.id,desc:S}];return a})},e.getFirstSortDir=()=>{var t,o;return((t=(o=e.columnDef.sortDescFirst)!=null?o:n.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var o,l;const i=e.getFirstSortDir(),r=e.getIsSorted();return r?r!==i&&((o=n.options.enableSortingRemoval)==null||o)&&(!(t&&(l=n.options.enableMultiRemove)!=null)||l)?!1:r==="desc"?"asc":"desc":i},e.getCanSort=()=>{var t,o;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((o=n.options.enableSorting)!=null?o:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,o;return(t=(o=e.columnDef.enableMultiSort)!=null?o:n.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const o=(t=n.getState().sorting)==null?void 0:t.find(l=>l.id===e.id);return o?o.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,o;return(t=(o=n.getState().sorting)==null?void 0:o.findIndex(l=>l.id===e.id))!=null?t:-1},e.clearSorting=()=>{n.setSorting(t=>t!=null&&t.length?t.filter(o=>o.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return o=>{t&&(o.persist==null||o.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(o):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var t,o;e.setSorting(n?[]:(t=(o=e.initialState)==null?void 0:o.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},gn=[Dt,Jt,Bt,Ut,bt,jt,Wt,Yt,dn,Tt,Zt,en,tn,nn,Xt];function cn(e){var n,t;const o=[...gn,...(n=e._features)!=null?n:[]];let l={_features:o};const i=l._features.reduce((c,s)=>Object.assign(c,s.getDefaultOptions==null?void 0:s.getDefaultOptions(l)),{}),r=c=>l.options.mergeOptions?l.options.mergeOptions(i,c):{...i,...c};let d={...{},...(t=e.initialState)!=null?t:{}};l._features.forEach(c=>{var s;d=(s=c.getInitialState==null?void 0:c.getInitialState(d))!=null?s:d});const a=[];let p=!1;const S={_features:o,options:{...i,...e},initialState:d,_queue:c=>{a.push(c),p||(p=!0,Promise.resolve().then(()=>{for(;a.length;)a.shift()();p=!1}).catch(s=>setTimeout(()=>{throw s})))},reset:()=>{l.setState(l.initialState)},setOptions:c=>{const s=B(c,l.options);l.options=r(s)},getState:()=>l.options.state,setState:c=>{l.options.onStateChange==null||l.options.onStateChange(c)},_getRowId:(c,s,m)=>{var h;return(h=l.options.getRowId==null?void 0:l.options.getRowId(c,s,m))!=null?h:`${m?[m.id,s].join("."):s}`},getCoreRowModel:()=>(l._getCoreRowModel||(l._getCoreRowModel=l.options.getCoreRowModel(l)),l._getCoreRowModel()),getRowModel:()=>l.getPaginationRowModel(),getRow:(c,s)=>{let m=(s?l.getPrePaginationRowModel():l.getRowModel()).rowsById[c];if(!m&&(m=l.getCoreRowModel().rowsById[c],!m))throw new Error;return m},_getDefaultColumnDef:x(()=>[l.options.defaultColumn],c=>{var s;return c=(s=c)!=null?s:{},{header:m=>{const h=m.header.column.columnDef;return h.accessorKey?h.accessorKey:h.accessorFn?h.id:null},cell:m=>{var h,_;return(h=(_=m.renderValue())==null||_.toString==null?void 0:_.toString())!=null?h:null},...l._features.reduce((m,h)=>Object.assign(m,h.getDefaultColumnDef==null?void 0:h.getDefaultColumnDef()),{}),...c}},R(e,"debugColumns")),_getColumnDefs:()=>l.options.columns,getAllColumns:x(()=>[l._getColumnDefs()],c=>{const s=function(m,h,_){return _===void 0&&(_=0),m.map(F=>{const V=Mt(l,F,_,h),y=F;return V.columns=y.columns?s(y.columns,V,_+1):[],V})};return s(c)},R(e,"debugColumns")),getAllFlatColumns:x(()=>[l.getAllColumns()],c=>c.flatMap(s=>s.getFlatColumns()),R(e,"debugColumns")),_getAllFlatColumnsById:x(()=>[l.getAllFlatColumns()],c=>c.reduce((s,m)=>(s[m.id]=m,s),{}),R(e,"debugColumns")),getAllLeafColumns:x(()=>[l.getAllColumns(),l._getOrderColumnsFn()],(c,s)=>{let m=c.flatMap(h=>h.getLeafColumns());return s(m)},R(e,"debugColumns")),getColumn:c=>l._getAllFlatColumnsById()[c]};Object.assign(l,S);for(let c=0;c<l._features.length;c++){const s=l._features[c];s==null||s.createTable==null||s.createTable(l)}return l}function fn(){return e=>x(()=>[e.options.data],n=>{const t={rows:[],flatRows:[],rowsById:{}},o=function(l,i,r){i===void 0&&(i=0);const u=[];for(let a=0;a<l.length;a++){const p=Pe(e,e._getRowId(l[a],a,r),l[a],a,i,void 0,r?.id);if(t.flatRows.push(p),t.rowsById[p.id]=p,u.push(p),e.options.getSubRows){var d;p.originalSubRows=e.options.getSubRows(l[a],a),(d=p.originalSubRows)!=null&&d.length&&(p.subRows=o(p.originalSubRows,i+1,p))}}return u};return t.rows=o(n),t},R(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function pn(e,n,t){return t.options.filterFromLeafRows?mn(e,n,t):hn(e,n,t)}function mn(e,n,t){var o;const l=[],i={},r=(o=t.options.maxLeafRowFilterDepth)!=null?o:100,u=function(d,a){a===void 0&&(a=0);const p=[];for(let c=0;c<d.length;c++){var S;let s=d[c];const m=Pe(t,s.id,s.original,s.index,s.depth,void 0,s.parentId);if(m.columnFilters=s.columnFilters,(S=s.subRows)!=null&&S.length&&a<r){if(m.subRows=u(s.subRows,a+1),s=m,n(s)&&!m.subRows.length){p.push(s),i[s.id]=s,l.push(s);continue}if(n(s)||m.subRows.length){p.push(s),i[s.id]=s,l.push(s);continue}}else s=m,n(s)&&(p.push(s),i[s.id]=s,l.push(s))}return p};return{rows:u(e),flatRows:l,rowsById:i}}function hn(e,n,t){var o;const l=[],i={},r=(o=t.options.maxLeafRowFilterDepth)!=null?o:100,u=function(d,a){a===void 0&&(a=0);const p=[];for(let c=0;c<d.length;c++){let s=d[c];if(n(s)){var S;if((S=s.subRows)!=null&&S.length&&a<r){const h=Pe(t,s.id,s.original,s.index,s.depth,void 0,s.parentId);h.subRows=u(s.subRows,a+1),s=h}p.push(s),l.push(s),i[s.id]=s}}return p};return{rows:u(e),flatRows:l,rowsById:i}}function Sn(){return e=>x(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(n,t,o)=>{if(!n.rows.length||!(t!=null&&t.length)&&!o){for(let c=0;c<n.flatRows.length;c++)n.flatRows[c].columnFilters={},n.flatRows[c].columnFiltersMeta={};return n}const l=[],i=[];(t??[]).forEach(c=>{var s;const m=e.getColumn(c.id);if(!m)return;const h=m.getFilterFn();h&&l.push({id:c.id,filterFn:h,resolvedValue:(s=h.resolveFilterValue==null?void 0:h.resolveFilterValue(c.value))!=null?s:c.value})});const r=(t??[]).map(c=>c.id),u=e.getGlobalFilterFn(),d=e.getAllLeafColumns().filter(c=>c.getCanGlobalFilter());o&&u&&d.length&&(r.push("__global__"),d.forEach(c=>{var s;i.push({id:c.id,filterFn:u,resolvedValue:(s=u.resolveFilterValue==null?void 0:u.resolveFilterValue(o))!=null?s:o})}));let a,p;for(let c=0;c<n.flatRows.length;c++){const s=n.flatRows[c];if(s.columnFilters={},l.length)for(let m=0;m<l.length;m++){a=l[m];const h=a.id;s.columnFilters[h]=a.filterFn(s,h,a.resolvedValue,_=>{s.columnFiltersMeta[h]=_})}if(i.length){for(let m=0;m<i.length;m++){p=i[m];const h=p.id;if(p.filterFn(s,h,p.resolvedValue,_=>{s.columnFiltersMeta[h]=_})){s.columnFilters.__global__=!0;break}}s.columnFilters.__global__!==!0&&(s.columnFilters.__global__=!1)}}const S=c=>{for(let s=0;s<r.length;s++)if(c.columnFilters[r[s]]===!1)return!1;return!0};return pn(n.rows,S,e)},R(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function vn(){return e=>x(()=>[e.getState().sorting,e.getPreSortedRowModel()],(n,t)=>{if(!t.rows.length||!(n!=null&&n.length))return t;const o=e.getState().sorting,l=[],i=o.filter(d=>{var a;return(a=e.getColumn(d.id))==null?void 0:a.getCanSort()}),r={};i.forEach(d=>{const a=e.getColumn(d.id);a&&(r[d.id]={sortUndefined:a.columnDef.sortUndefined,invertSorting:a.columnDef.invertSorting,sortingFn:a.getSortingFn()})});const u=d=>{const a=d.map(p=>({...p}));return a.sort((p,S)=>{for(let s=0;s<i.length;s+=1){var c;const m=i[s],h=r[m.id],_=h.sortUndefined,F=(c=m?.desc)!=null?c:!1;let V=0;if(_){const y=p.getValue(m.id),j=S.getValue(m.id),b=y===void 0,E=j===void 0;if(b||E){if(_==="first")return b?-1:1;if(_==="last")return b?1:-1;V=b&&E?0:b?_:-_}}if(V===0&&(V=h.sortingFn(p,S,m.id)),V!==0)return F&&(V*=-1),h.invertSorting&&(V*=-1),V}return p.index-S.index}),a.forEach(p=>{var S;l.push(p),(S=p.subRows)!=null&&S.length&&(p.subRows=u(p.subRows))}),a};return{rows:u(t.rows),flatRows:l,rowsById:t.rowsById}},R(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Je(e,n){return e?Cn(e)?I.createElement(e,n):e:null}function Cn(e){return wn(e)||typeof e=="function"||xn(e)}function wn(e){return typeof e=="function"&&(()=>{const n=Object.getPrototypeOf(e);return n.prototype&&n.prototype.isReactComponent})()}function xn(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function Rn(e){const n={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[t]=I.useState(()=>({current:cn(n)})),[o,l]=I.useState(()=>t.current.initialState);return t.current.setOptions(i=>({...i,...e,state:{...o,...e.state},onStateChange:r=>{l(r),e.onStateChange==null||e.onStateChange(r)}})),t.current}const Nn=()=>{const{t:e}=St(),[n,t]=I.useState(!1),[o,l]=I.useState(null),[i,r]=I.useState(null),[u,d]=I.useState(1),[a,p]=I.useState(10),[S,c]=I.useState([]),[s,m]=I.useState(""),{data:h,isLoading:_,isError:F}=fe({queryKey:["orders",u,a],queryFn:()=>yt(u,a)}),V=h?.data||[],y=h?.meta?.totalPages||1,j=vt(),b=pe({mutationFn:Rt,onSuccess:()=>{t(!1),j.invalidateQueries({queryKey:["orders"]})}}),E=pe({mutationFn:_t,onSuccess:()=>{l(null),t(!1),j.invalidateQueries({queryKey:["orders"]})}}),T=pe({mutationFn:Ft,onSuccess:()=>{r(null),j.invalidateQueries({queryKey:["orders"]})}}),{data:H,isLoading:K}=fe({queryKey:["users","all"],queryFn:Ct}),{data:q,isLoading:X}=fe({queryKey:["shops","all"],queryFn:wt}),Q=We.useMemo(()=>[{header:e("orders.orderNumber"),accessorKey:"orderNumber",cell:C=>C.getValue(),enableSorting:!0,filterFn:(C,$,D)=>String(C.getValue($)).toLowerCase().includes(String(D).toLowerCase())},{header:e("orders.customer"),accessorKey:"customerId",cell:C=>{if(K)return e("common.loading");const $=H?.find(D=>D._id===C.getValue());return $?`${$.firstName} ${$.lastName}`:C.getValue()},enableSorting:!0,filterFn:(C,$,D)=>{const z=H?.find(W=>W._id===C.getValue($)),J=z?`${z.firstName} ${z.lastName}`:C.getValue($);return String(J).toLowerCase().includes(String(D).toLowerCase())}},{header:e("orders.shop"),accessorKey:"shopId",cell:C=>{if(X)return e("common.loading");const $=q?.find(D=>D._id===C.getValue());return $?$.name:C.getValue()},enableSorting:!0,filterFn:(C,$,D)=>{const z=q?.find(W=>W._id===C.getValue($)),J=z?z.name:C.getValue($);return String(J).toLowerCase().includes(String(D).toLowerCase())}},{header:e("orders.total"),accessorKey:"pricing.total",cell:C=>C.row.original.pricing.total,enableSorting:!0},{header:e("orders.status"),accessorKey:"status",cell:C=>{const $=C.getValue();let D="bg-gray-700 text-gray-300";return $==="created"?D="bg-yellow-900 text-yellow-300":$==="operator_confirmed"?D="bg-blue-900 text-blue-300":$==="packing"?D="bg-purple-900 text-purple-300":$==="packed"?D="bg-indigo-900 text-indigo-300":$==="courier_picked"?D="bg-orange-900 text-orange-300":$==="delivered"?D="bg-green-900 text-green-300":$==="paid"?D="bg-green-700 text-green-200":["rejected_by_shop","rejected_by_courier","cancelled_by_client"].includes($)&&(D="bg-red-900 text-red-300"),g.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${D}`,children:$})},enableSorting:!0},{header:e("orders.created"),accessorKey:"createdAt",cell:C=>new Date(C.getValue()).toLocaleDateString(),enableSorting:!0},{header:e("orders.time"),id:"createdTime",accessorFn:C=>C.createdAt,cell:C=>new Date(C.getValue()).toLocaleTimeString(),enableSorting:!0},{header:e("orders.actions"),id:"actions",cell:C=>g.jsxs("div",{className:"flex gap-3 justify-center",children:[g.jsx("button",{className:"hover:text-blue-400",title:e("common.edit"),onClick:()=>{l(C.row.original),t(!0)},children:g.jsx(ne,{icon:"mdi:pencil",width:18,height:18})}),g.jsx("button",{className:"hover:text-red-400",title:e("common.delete"),onClick:()=>r(C.row.original),children:g.jsx(ne,{icon:"mdi:delete",width:18,height:18})})]}),enableSorting:!1}],[H,q,K,X,e]),L=Rn({data:V,columns:Q,getCoreRowModel:fn(),getSortedRowModel:vn(),getFilteredRowModel:Sn(),manualPagination:!1,pageCount:y,state:{sorting:S,globalFilter:s},onSortingChange:c,onGlobalFilterChange:m});return g.jsxs("div",{className:"p-8 min-h-screen bg-[#1a2236] text-white",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold",children:e("navigation.orders")}),g.jsxs("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold",onClick:()=>t(!0),children:[g.jsx(ne,{icon:"mdi:plus",className:"inline-block mr-2"})," ",e("orders.addOrder")]})]}),g.jsxs("div",{className:"flex gap-4 mb-4",children:[g.jsx("input",{className:"bg-[#232b42] text-white px-3 py-2 rounded",placeholder:e("orders.filterOrderNumber"),value:String(L.getColumn("orderNumber")?.getFilterValue()??""),onChange:C=>L.getColumn("orderNumber")?.setFilterValue(C.target.value)}),g.jsx("input",{className:"bg-[#232b42] text-white px-3 py-2 rounded",placeholder:e("orders.filterCustomer"),value:String(L.getColumn("customerId")?.getFilterValue()??""),onChange:C=>L.getColumn("customerId")?.setFilterValue(C.target.value)}),g.jsx("input",{className:"bg-[#232b42] text-white px-3 py-2 rounded",placeholder:e("orders.filterShop"),value:String(L.getColumn("shopId")?.getFilterValue()??""),onChange:C=>L.getColumn("shopId")?.setFilterValue(C.target.value)})]}),g.jsx("div",{className:"bg-[#232b42] rounded-xl overflow-x-auto",children:g.jsxs("table",{className:"min-w-full text-left",children:[g.jsx("thead",{children:L.getHeaderGroups().map(C=>g.jsx("tr",{className:"border-b border-[#2e3650]",children:C.headers.map($=>g.jsxs("th",{className:"py-3 px-4 cursor-pointer select-none",onClick:$.column.getCanSort()?$.column.getToggleSortingHandler():void 0,children:[Je($.column.columnDef.header,$.getContext()),$.column.getCanSort()&&g.jsx("span",{className:"ml-1",children:$.column.getIsSorted()==="asc"?"▲":$.column.getIsSorted()==="desc"?"▼":""})]},$.id))},C.id))}),g.jsx("tbody",{children:_?g.jsx("tr",{children:g.jsx("td",{colSpan:Q.length,className:"text-center py-8",children:e("common.loading")})}):F?g.jsx("tr",{children:g.jsx("td",{colSpan:Q.length,className:"text-center py-8 text-red-400",children:e("orders.failedToLoad")})}):V?.length?L.getRowModel().rows.map(C=>g.jsx("tr",{className:"border-b border-[#2e3650] hover:bg-[#202840] transition",children:C.getVisibleCells().map($=>g.jsx("td",{className:"py-3 px-4",children:Je($.column.columnDef.cell,$.getContext())},$.id))},C.id)):g.jsx("tr",{children:g.jsx("td",{colSpan:Q.length,className:"text-center py-16 text-gray-400",children:g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx(ne,{icon:"mdi:package-variant",className:"text-5xl mb-4"}),g.jsx("div",{className:"text-lg font-medium",children:e("orders.noOrdersFound")}),g.jsx("div",{className:"text-sm",children:e("orders.clickAddOrderToCreate")})]})})})})]})}),g.jsxs("div",{className:"flex items-center justify-between mt-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{children:[e("common.itemsPerPage"),":"]}),g.jsx("select",{className:"bg-[#232b42] text-white px-2 py-1 rounded",value:a,onChange:C=>{p(Number(C.target.value)),d(1)},children:[5,10,20,50].map(C=>g.jsx("option",{value:C,children:C},C))})]}),g.jsxs("div",{children:[g.jsx("button",{className:"px-2 py-1 mx-1 rounded disabled:opacity-50",onClick:()=>d(1),disabled:u===1,children:e("common.pagination.first")}),g.jsx("button",{className:"px-2 py-1 mx-1 rounded disabled:opacity-50",onClick:()=>d(C=>Math.max(1,C-1)),disabled:u===1,children:e("common.pagination.previous")}),g.jsxs("span",{className:"mx-2",children:[u," / ",y]}),g.jsx("button",{className:"px-2 py-1 mx-1 rounded disabled:opacity-50",onClick:()=>d(C=>Math.min(y,C+1)),disabled:u===y,children:e("common.pagination.next")}),g.jsx("button",{className:"px-2 py-1 mx-1 rounded disabled:opacity-50",onClick:()=>d(y),disabled:u===y,children:e("common.pagination.last")})]})]}),n&&g.jsx($t,{order:o||void 0,onClose:()=>{t(!1),l(null)},onSubmit:C=>{o?E.mutate({...o,...C}):b.mutate(C)},loading:b.isPending||E.isPending,error:b.isError?b.error?.message:E.isError?E.error?.message:null}),i&&g.jsx(xt,{open:!!i,title:e("orders.deleteOrder"),description:e("orders.deleteOrderConfirmation"),loading:T.isPending,onCancel:()=>r(null),onConfirm:()=>T.mutate(i._id)})]})};export{Nn as default};
