import{r as n,j as u,u as y,I as j}from"./index-BouADcV8.js";const f=e=>{const t=e.replace(/[^\d.]/g,"").split(".");if(t.length>2)return e;const o=t[0].replace(/\B(?=(\d{3})+(?!\d))/g," ");return t.length>1?`${o}.${t[1]}`:o},w=e=>e.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g," "),N=e=>{const l=e.replace(/[^\d.]/g,"");return parseFloat(l)||0},k=e=>{const l=e.replace(/\D/g,"");return parseInt(l)||0},C=e=>`${f(e)} UZS`,T=({value:e,onChange:l,type:t,placeholder:o,className:v="",disabled:h=!1})=>{const[i,r]=n.useState("");n.useEffect(()=>{r(t==="price"?f(e.toString()):w(e.toString()))},[e,t]);const d=m=>{const c=m.target.value;if(t==="price"){const s=f(c);r(s);const p=N(s);l(p)}else{const s=w(c);r(s);const p=k(s);l(p)}},b=()=>{r(t==="price"?f(e.toString()):w(e.toString()))};return u.jsx("input",{type:"text",value:i,onChange:d,onBlur:b,placeholder:o,className:v,disabled:h})},V=({value:e,onChange:l,options:t,placeholder:o,className:v="",disabled:h=!1})=>{const{t:i}=y(),r=o||i("common.select"),[d,b]=n.useState(!1),[m,c]=n.useState(""),[s,p]=n.useState(t),g=n.useRef(null);n.useEffect(()=>{const a=t.filter(x=>x.label.toLowerCase().includes(m.toLowerCase()));p(a)},[t,m]),n.useEffect(()=>{const a=x=>{g.current&&!g.current.contains(x.target)&&(b(!1),c(""))};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);const z=t.find(a=>a.value===e),S=a=>{l(a.value),b(!1),c("")};return u.jsxs("div",{className:`relative ${v}`,ref:g,children:[u.jsxs("button",{type:"button",onClick:()=>!h&&b(!d),className:"w-full bg-[#1a2236] text-white px-4 py-2 rounded-lg focus:outline-none focus:ring flex items-center justify-between",disabled:h,children:[u.jsx("span",{className:z?"text-white":"text-gray-400",children:z?z.label:r}),u.jsx(j,{icon:d?"mdi:chevron-up":"mdi:chevron-down",className:"ml-2"})]}),d&&u.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-[#232b42] border border-[#2e3650] rounded-lg shadow-lg max-h-60 overflow-hidden",children:[u.jsx("div",{className:"p-2 border-b border-[#2e3650]",children:u.jsx("input",{type:"text",placeholder:i("common.search"),value:m,onChange:a=>c(a.target.value),className:"w-full bg-[#1a2236] text-white px-3 py-2 rounded focus:outline-none focus:ring text-sm",autoFocus:!0})}),u.jsx("div",{className:"max-h-48 overflow-y-auto",children:s.length===0?u.jsx("div",{className:"px-4 py-2 text-gray-400 text-sm",children:i("common.noOptionsFound")}):s.map(a=>u.jsx("button",{type:"button",onClick:()=>S(a),className:`w-full text-left px-4 py-2 hover:bg-[#2e3650] transition-colors ${a.value===e?"bg-blue-600 text-white":"text-white"}`,children:a.label},a.value))})]})]})},O=[{value:"pcs",label:{uz:"Dona",ru:"Штук"}},{value:"kg",label:{uz:"KG",ru:"КГ"}},{value:"g",label:{uz:"Gramm",ru:"Грамм"}},{value:"l",label:{uz:"Litr",ru:"Литр"}},{value:"ml",label:{uz:"Millilitr",ru:"Миллилитр"}},{value:"pack",label:{uz:"Paket",ru:"Пакет"}},{value:"box",label:{uz:"Quti",ru:"Коробка"}},{value:"bottle",label:{uz:"Shisha",ru:"Бутылка"}},{value:"can",label:{uz:"Banka",ru:"Банка"}},{value:"bag",label:{uz:"Paket",ru:"Мешок"}},{value:"piece",label:{uz:"Parça",ru:"Кусок"}},{value:"slice",label:{uz:"Tilim",ru:"Ломтик"}},{value:"cup",label:{uz:"Fincan",ru:"Чашка"}},{value:"tbsp",label:{uz:"Osh qoshiq",ru:"Столовая ложка"}},{value:"tsp",label:{uz:"Choy qoshiq",ru:"Чайная ложка"}},{value:"bunch",label:{uz:"Dasta",ru:"Пучок"}},{value:"head",label:{uz:"Bosh",ru:"Головка"}},{value:"clove",label:{uz:"Tish",ru:"Зубчик"}},{value:"sprig",label:{uz:"Shoxcha",ru:"Веточка"}},{value:"sheet",label:{uz:"Barg",ru:"Лист"}},{value:"roll",label:{uz:"Rulon",ru:"Рулон"}},{value:"bar",label:{uz:"Plita",ru:"Плитка"}},{value:"stick",label:{uz:"Tayoq",ru:"Палочка"}},{value:"cube",label:{uz:"Kubik",ru:"Кубик"}},{value:"scoop",label:{uz:"Qoshiq",ru:"Ложка"}},{value:"portion",label:{uz:"Porsiya",ru:"Порция"}},{value:"serving",label:{uz:"Xizmat",ru:"Подача"}},{value:"meal",label:{uz:"Ovqat",ru:"Блюдо"}},{value:"set",label:{uz:"To'plam",ru:"Набор"}},{value:"pair",label:{uz:"Juft",ru:"Пара"}},{value:"dozen",label:{uz:"O'n ikki",ru:"Дюжина"}},{value:"hundred",label:{uz:"Yuz",ru:"Сотня"}},{value:"thousand",label:{uz:"Ming",ru:"Тысяча"}}],q=(e="uz")=>O.map(l=>({value:l.value,label:`${l.label.uz}/${l.label.ru}`}));export{T as M,V as S,w as a,C as f,q as g};
