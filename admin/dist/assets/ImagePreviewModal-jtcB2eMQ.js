import{u as f,r as d,j as t,I as u}from"./index-BouADcV8.js";const v=({open:c,images:r,initialIndex:i=0,onClose:h})=>{const{t:l}=f(),[a,s]=d.useState(i);if(d.useEffect(()=>{s(i)},[i]),d.useEffect(()=>{const e=o=>{if(c)switch(o.key){case"Escape":h();break;case"ArrowLeft":o.preventDefault(),s(n=>n>0?n-1:r.length-1);break;case"ArrowRight":o.preventDefault(),s(n=>n<r.length-1?n+1:0);break}};return c&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[c,r.length,h]),!c||r.length===0)return null;const m=r[a],x=()=>{s(e=>e>0?e-1:r.length-1)},b=()=>{s(e=>e<r.length-1?e+1:0)};return t.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black",children:[t.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 flex items-center justify-between p-4 bg-gradient-to-b from-black/50 to-transparent",children:[t.jsx("div",{className:"flex items-center gap-4 text-white",children:t.jsxs("span",{className:"text-sm font-medium",children:[a+1," / ",r.length]})}),t.jsx("button",{onClick:h,className:"p-2 rounded-full bg-black/30 hover:bg-black/50 text-white transition-colors",title:l("common.close","Close"),children:t.jsx(u,{icon:"mdi:close",width:24,height:24})})]}),t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsx("img",{src:m,alt:`Image ${a+1}`,className:"max-w-full max-h-full object-contain",onError:e=>{e.currentTarget.onerror=null,e.currentTarget.src="https://via.placeholder.com/400x400?text=Image+Not+Found"}})}),r.length>1&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:x,className:"absolute left-4 top-1/2 transform -translate-y-1/2 p-3 rounded-full bg-black/30 hover:bg-black/50 text-white transition-colors",title:l("common.previous","Previous"),children:t.jsx(u,{icon:"mdi:chevron-left",width:24,height:24})}),t.jsx("button",{onClick:b,className:"absolute right-4 top-1/2 transform -translate-y-1/2 p-3 rounded-full bg-black/30 hover:bg-black/50 text-white transition-colors",title:l("common.next","Next"),children:t.jsx(u,{icon:"mdi:chevron-right",width:24,height:24})}),t.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2",children:r.map((e,o)=>t.jsx("button",{onClick:()=>s(o),className:`w-12 h-12 rounded border-2 transition-all ${o===a?"border-white opacity-100":"border-white/50 opacity-60 hover:opacity-80"}`,children:t.jsx("img",{src:e,alt:`Thumbnail ${o+1}`,className:"w-full h-full object-cover rounded",onError:n=>{n.currentTarget.onerror=null,n.currentTarget.src="https://via.placeholder.com/48x48?text=Error"}})},o))})]}),r.length>1&&t.jsxs("div",{className:"absolute bottom-4 left-4 text-white/60 text-xs",children:[t.jsxs("div",{children:["← → ",l("common.navigate","Navigate")]}),t.jsxs("div",{children:["ESC ",l("common.close","Close")]})]})]})};export{v as I};
