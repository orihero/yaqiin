import{b as f,u as p,r as o,d as y,j as e,I as i}from"./index-BouADcV8.js";import{u as j}from"./useMutation-Vq-BzWq0.js";function N(){const s=f(l=>l.login);return j({mutationFn:async l=>{const n=await fetch("http://localhost:30011/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),t=await n.json();if(!n.ok||!t.success)throw new Error(t?.error?.message||"Login failed");return s(t.data.token,t.data.user),t.data.user}})}function k(){const{t:s}=p(),[l,n]=o.useState("admin1"),[t,c]=o.useState("test1234"),[d,x]=o.useState(!1),m=y(),{mutate:g,isPending:r,isError:u,error:h,isSuccess:w}=N(),b=a=>{a.preventDefault(),g({username:l,password:t},{onSuccess:()=>{m("/")}})};return e.jsxs("div",{className:"min-h-screen flex bg-[#192132]",children:[e.jsxs("div",{className:"hidden md:flex flex-col justify-center items-start flex-1 px-16 relative overflow-hidden bg-[#1a2235]",children:[e.jsx("div",{className:"absolute -left-32 -top-32 w-[500px] h-[500px] rounded-full border-8 border-[#22304a] opacity-40"}),e.jsxs("div",{className:"z-10",children:[e.jsxs("h1",{className:"text-4xl font-bold text-white mb-4",children:[s("login.welcomeTitle"),e.jsx("br",{}),"MDash"]}),e.jsx("p",{className:"text-gray-400 text-lg mb-8 max-w-md",children:s("login.welcomeSubtitle")}),e.jsx("button",{className:"bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-6 py-2 rounded-full text-base shadow",children:s("login.learnMore")})]}),e.jsxs("div",{className:"absolute bottom-12 left-16 flex gap-6 items-end z-0",children:[e.jsx("span",{className:"bg-cyan-700 rounded-full w-16 h-16 shadow-lg"}),e.jsx("span",{className:"bg-cyan-700 rounded-full w-10 h-10 shadow-lg"}),e.jsx("span",{className:"bg-cyan-700 rounded-lg w-24 h-8 shadow-lg rotate-12"})]})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-8",children:e.jsxs("div",{className:"bg-[#232c43] rounded-2xl shadow-lg p-10 w-full max-w-md flex flex-col items-center",children:[e.jsx(i,{icon:"mdi:alpha-m-circle",className:"text-4xl text-cyan-400 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:s("login.signIn")}),e.jsx("div",{className:"text-gray-400 text-sm mb-6",children:s("login.adminDashboard")}),e.jsxs("div",{className:"flex w-full gap-4 mb-6",children:[e.jsxs("button",{type:"button",className:"flex-1 flex items-center justify-center gap-2 border border-cyan-500 text-cyan-400 rounded-lg py-2 font-semibold hover:bg-cyan-900 transition",children:[e.jsx(i,{icon:"mdi:google",className:"text-lg"})," ",s("login.google")]}),e.jsxs("button",{type:"button",className:"flex-1 flex items-center justify-center gap-2 border border-cyan-500 text-cyan-400 rounded-lg py-2 font-semibold hover:bg-cyan-900 transition",children:[e.jsx(i,{icon:"mdi:facebook",className:"text-lg"})," ",s("login.facebook")]})]}),e.jsxs("div",{className:"flex items-center w-full mb-6",children:[e.jsx("div",{className:"flex-1 h-px bg-gray-700"}),e.jsx("span",{className:"mx-3 text-gray-500 text-xs",children:s("login.orSignInWith")}),e.jsx("div",{className:"flex-1 h-px bg-gray-700"})]}),e.jsxs("form",{className:"w-full",onSubmit:b,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 text-sm mb-1",htmlFor:"username",children:s("login.username")}),e.jsx("input",{id:"username",type:"text",className:"w-full bg-[#202940] rounded-lg px-3 py-2 text-gray-100 placeholder-gray-500 outline-none border-none",placeholder:s("login.enterUsername"),value:l,onChange:a=>n(a.target.value),required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 text-sm mb-1",htmlFor:"password",children:s("login.password")}),e.jsx("input",{id:"password",type:"password",className:"w-full bg-[#202940] rounded-lg px-3 py-2 text-gray-100 placeholder-gray-500 outline-none border-none",placeholder:s("login.enterPassword"),value:t,onChange:a=>c(a.target.value),required:!0})]}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("label",{className:"flex items-center text-gray-400 text-sm",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox rounded text-cyan-500 mr-2",checked:d,onChange:a=>x(a.target.checked)}),s("login.rememberDevice")]}),e.jsx("a",{href:"#",className:"text-cyan-400 text-sm hover:underline",children:s("login.forgotPassword")})]}),u&&e.jsx("div",{className:"text-red-400 text-sm mb-2",children:h?.message}),e.jsx("button",{type:"submit",className:`w-full bg-cyan-800 text-gray-300 font-semibold py-2 rounded-lg text-lg shadow mb-4 ${r?"opacity-60 cursor-not-allowed":""}`,disabled:r,children:s(r?"login.signingIn":"login.signIn")}),e.jsxs("div",{className:"text-gray-400 text-sm text-center",children:[s("login.newToMdash")," ",e.jsx("a",{href:"#",className:"text-cyan-400 hover:underline",children:s("login.createAccount")})]})]})]})})]})}export{k as default};
